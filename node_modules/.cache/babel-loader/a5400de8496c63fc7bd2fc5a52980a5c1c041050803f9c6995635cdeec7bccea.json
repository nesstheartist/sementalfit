{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nessc\\\\Semental fit ultima\\\\sementalfit2\\\\src\\\\components\\\\DailyRoutine.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { db } from '../firebase';\nimport { collection, doc, setDoc, getDoc, getDocs, query, where, serverTimestamp } from 'firebase/firestore';\nimport Header from './Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DAYS = ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado', 'Domingo'];\nconst getToday = () => {\n  const days = ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'];\n  return days[new Date().getDay()];\n};\nconst DailyRoutine = () => {\n  _s();\n  const {\n    currentUser\n  } = useAuth();\n  const [selectedDay, setSelectedDay] = useState(getToday());\n  const [categories, setCategories] = useState([]);\n  const [exercises, setExercises] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [selectedExercise, setSelectedExercise] = useState('');\n  const [currentRoutine, setCurrentRoutine] = useState({\n    exercises: []\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  // Timer helpers\n  const [timers, setTimers] = useState({}); // { [exerciseIndex_setIndex]: { running, timeLeft } }\n  const timerRefs = useRef({});\n  const [showAvailable, setShowAvailable] = useState(false);\n  const [availableRoutines, setAvailableRoutines] = useState([]);\n\n  // Cargar categorías\n  useEffect(() => {\n    const loadCategories = async () => {\n      try {\n        setError('');\n        const categoriesSnapshot = await getDocs(collection(db, 'categories'));\n        const categoriesData = categoriesSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setCategories(categoriesData);\n      } catch (error) {\n        console.error('Error al cargar categorías:', error);\n        setError('Error al cargar las categorías. Por favor, intenta de nuevo.');\n      }\n    };\n    loadCategories();\n  }, []);\n\n  // Cargar ejercicios cuando se selecciona una categoría\n  useEffect(() => {\n    const loadExercises = async () => {\n      if (!selectedCategory) {\n        setExercises([]);\n        return;\n      }\n      try {\n        setError('');\n        const exercisesSnapshot = await getDocs(query(collection(db, 'exercises'), where('categoryId', '==', selectedCategory)));\n        const exercisesData = exercisesSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setExercises(exercisesData);\n      } catch (error) {\n        console.error('Error al cargar ejercicios:', error);\n        setError('Error al cargar los ejercicios. Por favor, intenta de nuevo.');\n      }\n    };\n    loadExercises();\n  }, [selectedCategory]);\n\n  // Cargar rutina del día seleccionado\n  useEffect(() => {\n    const loadRoutine = async () => {\n      if (!currentUser) return;\n      const routineRef = doc(db, 'users', currentUser.uid, 'routines', selectedDay);\n      const routineDoc = await getDoc(routineRef);\n      if (routineDoc.exists()) {\n        setCurrentRoutine(routineDoc.data());\n      } else {\n        setCurrentRoutine({\n          exercises: []\n        });\n      }\n    };\n    loadRoutine();\n  }, [selectedDay, currentUser]);\n  useEffect(() => {\n    if (showAvailable) {\n      getDocs(collection(db, 'routines')).then(snapshot => {\n        setAvailableRoutines(snapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        })));\n      });\n    }\n  }, [showAvailable]);\n  const addExercise = () => {\n    if (!selectedExercise) return;\n    const newExercise = {\n      exerciseId: selectedExercise,\n      sets: [{\n        weight: 0,\n        reps: 0,\n        completed: false\n      }]\n    };\n    setCurrentRoutine(prev => ({\n      ...prev,\n      exercises: [...prev.exercises, newExercise]\n    }));\n  };\n  const updateSet = (exerciseIndex, setIndex, field, value) => {\n    setCurrentRoutine(prev => {\n      const newExercises = [...prev.exercises];\n      newExercises[exerciseIndex].sets[setIndex][field] = value;\n      return {\n        ...prev,\n        exercises: newExercises\n      };\n    });\n  };\n  const addSet = exerciseIndex => {\n    setCurrentRoutine(prev => {\n      const newExercises = [...prev.exercises];\n      newExercises[exerciseIndex].sets.push({\n        weight: 0,\n        reps: 0,\n        completed: false,\n        timer: {\n          min: 0,\n          sec: 0\n        }\n      });\n      return {\n        ...prev,\n        exercises: newExercises\n      };\n    });\n  };\n  const removeSet = (exerciseIndex, setIndex) => {\n    setCurrentRoutine(prev => {\n      const newExercises = [...prev.exercises];\n      newExercises[exerciseIndex].sets = newExercises[exerciseIndex].sets.filter((_, i) => i !== setIndex);\n      return {\n        ...prev,\n        exercises: newExercises\n      };\n    });\n  };\n  const handleTimerChange = (exerciseIndex, setIndex, field, value) => {\n    setCurrentRoutine(prev => {\n      const newExercises = [...prev.exercises];\n      if (!newExercises[exerciseIndex].sets[setIndex].timer) {\n        newExercises[exerciseIndex].sets[setIndex].timer = {\n          min: 0,\n          sec: 0\n        };\n      }\n      newExercises[exerciseIndex].sets[setIndex].timer[field] = value;\n      return {\n        ...prev,\n        exercises: newExercises\n      };\n    });\n  };\n  const startTimer = (exerciseIndex, setIndex) => {\n    const key = `${exerciseIndex}_${setIndex}`;\n    setTimers(prev => ({\n      ...prev,\n      [key]: {\n        running: true,\n        timeLeft: getTimeLeft(exerciseIndex, setIndex)\n      }\n    }));\n    if (timerRefs.current[key]) clearInterval(timerRefs.current[key]);\n    timerRefs.current[key] = setInterval(() => {\n      setTimers(prev => {\n        var _prev$key;\n        const t = ((_prev$key = prev[key]) === null || _prev$key === void 0 ? void 0 : _prev$key.timeLeft) || 0;\n        if (t > 0) {\n          return {\n            ...prev,\n            [key]: {\n              ...prev[key],\n              timeLeft: t - 1\n            }\n          };\n        } else {\n          clearInterval(timerRefs.current[key]);\n          return {\n            ...prev,\n            [key]: {\n              ...prev[key],\n              running: false,\n              timeLeft: 0\n            }\n          };\n        }\n      });\n    }, 1000);\n  };\n  const pauseTimer = (exerciseIndex, setIndex) => {\n    const key = `${exerciseIndex}_${setIndex}`;\n    setTimers(prev => ({\n      ...prev,\n      [key]: {\n        ...prev[key],\n        running: false\n      }\n    }));\n    if (timerRefs.current[key]) clearInterval(timerRefs.current[key]);\n  };\n  const getTimeLeft = (exerciseIndex, setIndex) => {\n    var _set$timer, _set$timer2;\n    const set = currentRoutine.exercises[exerciseIndex].sets[setIndex];\n    const min = parseInt(((_set$timer = set.timer) === null || _set$timer === void 0 ? void 0 : _set$timer.min) || 0, 10);\n    const sec = parseInt(((_set$timer2 = set.timer) === null || _set$timer2 === void 0 ? void 0 : _set$timer2.sec) || 0, 10);\n    return min * 60 + sec;\n  };\n  const formatTime = seconds => {\n    const m = Math.floor(seconds / 60);\n    const s = seconds % 60;\n    return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n  };\n  useEffect(() => {\n    return () => {\n      Object.values(timerRefs.current).forEach(clearInterval);\n    };\n  }, []);\n  const saveRoutine = async () => {\n    if (!currentUser) return;\n    setLoading(true);\n    try {\n      const routineRef = doc(db, 'users', currentUser.uid, 'routines', selectedDay);\n      await setDoc(routineRef, {\n        ...currentRoutine,\n        updatedAt: serverTimestamp()\n      });\n      alert('Rutina guardada exitosamente');\n    } catch (error) {\n      console.error('Error al guardar la rutina:', error);\n      alert('Error al guardar la rutina');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full px-2 py-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-yellow-400 mb-3\",\n        children: \"Rutina Diaria\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-500 text-white p-2 rounded mb-2 text-xs\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mb-2 px-4 py-2 bg-yellow-500 text-black rounded text-sm\",\n        onClick: () => setShowAvailable(v => !v),\n        children: showAvailable ? 'Ocultar Rutinas Prediseñadas' : 'Ver Rutinas Prediseñadas'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 17\n      }, this), showAvailable && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-900 p-2 rounded mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-white text-base mb-2\",\n          children: \"Rutinas Disponibles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 25\n        }, this), availableRoutines.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400\",\n          children: \"No hay rutinas predise\\xF1adas.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 60\n        }, this), availableRoutines.map(routine => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2 p-2 bg-gray-800 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-yellow-300 font-bold\",\n            children: routine.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white text-sm mb-1\",\n            children: routine.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-yellow-500 text-black px-2 py-1 rounded text-xs\",\n            onClick: async () => {\n              // Copiar la rutina prediseñada a la rutina del usuario para el día seleccionado\n              setCurrentRoutine({\n                exercises: routine.exercises\n              });\n              alert('Rutina copiada. Ahora puedes modificarla y guardarla como tuya.');\n            },\n            children: \"Usar esta rutina\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 33\n          }, this)]\n        }, routine.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-1 mb-3\",\n        children: DAYS.map(day => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedDay(day),\n          className: `px-2 py-1 text-sm rounded ${selectedDay === day ? 'bg-yellow-500 text-black' : 'bg-gray-800 text-white'}`,\n          children: day\n        }, day, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg text-white mb-2\",\n        children: \"Agregar Ejercicio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedCategory,\n          onChange: e => setSelectedCategory(e.target.value),\n          className: \"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Seleccionar Grupo Muscular\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this), categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cat.id,\n            children: cat.name\n          }, cat.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedExercise,\n          onChange: e => setSelectedExercise(e.target.value),\n          className: \"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 text-sm\",\n          disabled: !selectedCategory,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Seleccionar Ejercicio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 25\n          }, this), exercises.map(ex => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: ex.id,\n            children: ex.name\n          }, ex.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addExercise,\n          disabled: !selectedExercise,\n          className: \"w-full px-3 py-2 bg-yellow-500 text-black rounded text-sm hover:bg-yellow-600 disabled:opacity-50\",\n          children: \"Agregar Ejercicio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: currentRoutine.exercises.map((exercise, exerciseIndex) => {\n        const exerciseData = exercises.find(e => e.id === exercise.exerciseId);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-800 p-3 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-base text-white mb-2\",\n            children: (exerciseData === null || exerciseData === void 0 ? void 0 : exerciseData.name) || 'Ejercicio'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full text-sm text-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-2 py-1\",\n                    children: \"Serie\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-2 py-1\",\n                    children: \"Peso\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-2 py-1\",\n                    children: \"Repeticiones\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-2 py-1\",\n                    children: \"Timer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-2 py-1\",\n                    children: \"\\u2714\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: exercise.sets.map((set, setIndex) => {\n                  var _set$timer3, _set$timer4;\n                  const key = `${exerciseIndex}_${setIndex}`;\n                  const timerState = timers[key] || {\n                    running: false,\n                    timeLeft: getTimeLeft(exerciseIndex, setIndex)\n                  };\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-2 py-1\",\n                      children: setIndex + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-2 py-1\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        value: set.weight,\n                        onChange: e => updateSet(exerciseIndex, setIndex, 'weight', e.target.value),\n                        placeholder: \"Peso (kg)\",\n                        className: \"w-16 p-1 rounded bg-gray-700 text-white border border-gray-600 text-sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 359,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-2 py-1\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        value: set.reps,\n                        onChange: e => updateSet(exerciseIndex, setIndex, 'reps', e.target.value),\n                        placeholder: \"Reps\",\n                        className: \"w-16 p-1 rounded bg-gray-700 text-white border border-gray-600 text-sm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 368,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 367,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-2 py-1 flex items-center gap-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        min: \"0\",\n                        value: ((_set$timer3 = set.timer) === null || _set$timer3 === void 0 ? void 0 : _set$timer3.min) || 0,\n                        onChange: e => handleTimerChange(exerciseIndex, setIndex, 'min', e.target.value),\n                        className: \"w-10 p-1 rounded bg-gray-700 text-white border border-gray-600 text-xs mr-1\",\n                        placeholder: \"mm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 377,\n                        columnNumber: 57\n                      }, this), \":\", /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        min: \"0\",\n                        max: \"59\",\n                        value: ((_set$timer4 = set.timer) === null || _set$timer4 === void 0 ? void 0 : _set$timer4.sec) || 0,\n                        onChange: e => handleTimerChange(exerciseIndex, setIndex, 'sec', e.target.value),\n                        className: \"w-10 p-1 rounded bg-gray-700 text-white border border-gray-600 text-xs ml-1\",\n                        placeholder: \"ss\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 386,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        onClick: () => timerState.running ? pauseTimer(exerciseIndex, setIndex) : startTimer(exerciseIndex, setIndex),\n                        className: \"ml-2 px-2 py-1 bg-yellow-500 text-black rounded text-xs\",\n                        children: timerState.running ? 'Pausar' : 'Iniciar'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 395,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-2 font-mono\",\n                        children: formatTime(timerState.timeLeft)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 402,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 376,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-2 py-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: set.completed,\n                        onChange: e => updateSet(exerciseIndex, setIndex, 'completed', e.target.checked),\n                        className: \"w-4 h-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 405,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        onClick: () => removeSet(exerciseIndex, setIndex),\n                        className: \"ml-2 px-2 py-1 bg-red-500 text-white rounded text-xs\",\n                        children: \"Eliminar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 411,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 404,\n                      columnNumber: 53\n                    }, this)]\n                  }, setIndex, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 49\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => addSet(exerciseIndex),\n              className: \"text-yellow-400 hover:text-yellow-500 text-sm mt-2\",\n              children: \"+ Agregar Serie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 29\n          }, this)]\n        }, exerciseIndex, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: saveRoutine,\n      disabled: loading,\n      className: \"mt-4 w-full bg-yellow-500 text-black font-bold py-2 px-4 rounded text-sm hover:bg-yellow-600 disabled:opacity-50\",\n      children: loading ? 'Guardando...' : 'Guardar Rutina'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 9\n  }, this);\n};\n_s(DailyRoutine, \"9LZ1FIlZbC792w9CdHGkdg+GBGU=\", false, function () {\n  return [useAuth];\n});\n_c = DailyRoutine;\nexport default DailyRoutine;\nvar _c;\n$RefreshReg$(_c, \"DailyRoutine\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useAuth","db","collection","doc","setDoc","getDoc","getDocs","query","where","serverTimestamp","Header","jsxDEV","_jsxDEV","DAYS","getToday","days","Date","getDay","DailyRoutine","_s","currentUser","selectedDay","setSelectedDay","categories","setCategories","exercises","setExercises","selectedCategory","setSelectedCategory","selectedExercise","setSelectedExercise","currentRoutine","setCurrentRoutine","loading","setLoading","error","setError","timers","setTimers","timerRefs","showAvailable","setShowAvailable","availableRoutines","setAvailableRoutines","loadCategories","categoriesSnapshot","categoriesData","docs","map","id","data","console","loadExercises","exercisesSnapshot","exercisesData","loadRoutine","routineRef","uid","routineDoc","exists","then","snapshot","addExercise","newExercise","exerciseId","sets","weight","reps","completed","prev","updateSet","exerciseIndex","setIndex","field","value","newExercises","addSet","push","timer","min","sec","removeSet","filter","_","i","handleTimerChange","startTimer","key","running","timeLeft","getTimeLeft","current","clearInterval","setInterval","_prev$key","t","pauseTimer","_set$timer","_set$timer2","set","parseInt","formatTime","seconds","m","Math","floor","s","toString","padStart","Object","values","forEach","saveRoutine","updatedAt","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","v","length","routine","name","description","day","onChange","e","target","cat","disabled","ex","exercise","exerciseData","find","_set$timer3","_set$timer4","timerState","type","placeholder","max","checked","_c","$RefreshReg$"],"sources":["C:/Users/nessc/Semental fit ultima/sementalfit2/src/components/DailyRoutine.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { db } from '../firebase';\r\nimport { \r\n    collection, \r\n    doc, \r\n    setDoc, \r\n    getDoc, \r\n    getDocs, \r\n    query, \r\n    where,\r\n    serverTimestamp \r\n} from 'firebase/firestore';\r\nimport Header from './Header';\r\n\r\nconst DAYS = ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado', 'Domingo'];\r\n\r\nconst getToday = () => {\r\n    const days = ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'];\r\n    return days[new Date().getDay()];\r\n};\r\n\r\nconst DailyRoutine = () => {\r\n    const { currentUser } = useAuth();\r\n    const [selectedDay, setSelectedDay] = useState(getToday());\r\n    const [categories, setCategories] = useState([]);\r\n    const [exercises, setExercises] = useState([]);\r\n    const [selectedCategory, setSelectedCategory] = useState('');\r\n    const [selectedExercise, setSelectedExercise] = useState('');\r\n    const [currentRoutine, setCurrentRoutine] = useState({\r\n        exercises: []\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    // Timer helpers\r\n    const [timers, setTimers] = useState({}); // { [exerciseIndex_setIndex]: { running, timeLeft } }\r\n    const timerRefs = useRef({});\r\n    const [showAvailable, setShowAvailable] = useState(false);\r\n    const [availableRoutines, setAvailableRoutines] = useState([]);\r\n\r\n    // Cargar categorías\r\n    useEffect(() => {\r\n        const loadCategories = async () => {\r\n            try {\r\n                setError('');\r\n                const categoriesSnapshot = await getDocs(collection(db, 'categories'));\r\n                const categoriesData = categoriesSnapshot.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    ...doc.data()\r\n                }));\r\n                setCategories(categoriesData);\r\n            } catch (error) {\r\n                console.error('Error al cargar categorías:', error);\r\n                setError('Error al cargar las categorías. Por favor, intenta de nuevo.');\r\n            }\r\n        };\r\n        loadCategories();\r\n    }, []);\r\n\r\n    // Cargar ejercicios cuando se selecciona una categoría\r\n    useEffect(() => {\r\n        const loadExercises = async () => {\r\n            if (!selectedCategory) {\r\n                setExercises([]);\r\n                return;\r\n            }\r\n            try {\r\n                setError('');\r\n                const exercisesSnapshot = await getDocs(\r\n                    query(collection(db, 'exercises'), \r\n                    where('categoryId', '==', selectedCategory))\r\n                );\r\n                const exercisesData = exercisesSnapshot.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    ...doc.data()\r\n                }));\r\n                setExercises(exercisesData);\r\n            } catch (error) {\r\n                console.error('Error al cargar ejercicios:', error);\r\n                setError('Error al cargar los ejercicios. Por favor, intenta de nuevo.');\r\n            }\r\n        };\r\n        loadExercises();\r\n    }, [selectedCategory]);\r\n\r\n    // Cargar rutina del día seleccionado\r\n    useEffect(() => {\r\n        const loadRoutine = async () => {\r\n            if (!currentUser) return;\r\n            const routineRef = doc(db, 'users', currentUser.uid, 'routines', selectedDay);\r\n            const routineDoc = await getDoc(routineRef);\r\n            if (routineDoc.exists()) {\r\n                setCurrentRoutine(routineDoc.data());\r\n            } else {\r\n                setCurrentRoutine({ exercises: [] });\r\n            }\r\n        };\r\n        loadRoutine();\r\n    }, [selectedDay, currentUser]);\r\n\r\n    useEffect(() => {\r\n        if (showAvailable) {\r\n            getDocs(collection(db, 'routines')).then(snapshot => {\r\n                setAvailableRoutines(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n            });\r\n        }\r\n    }, [showAvailable]);\r\n\r\n    const addExercise = () => {\r\n        if (!selectedExercise) return;\r\n        \r\n        const newExercise = {\r\n            exerciseId: selectedExercise,\r\n            sets: [\r\n                { weight: 0, reps: 0, completed: false }\r\n            ]\r\n        };\r\n\r\n        setCurrentRoutine(prev => ({\r\n            ...prev,\r\n            exercises: [...prev.exercises, newExercise]\r\n        }));\r\n    };\r\n\r\n    const updateSet = (exerciseIndex, setIndex, field, value) => {\r\n        setCurrentRoutine(prev => {\r\n            const newExercises = [...prev.exercises];\r\n            newExercises[exerciseIndex].sets[setIndex][field] = value;\r\n            return { ...prev, exercises: newExercises };\r\n        });\r\n    };\r\n\r\n    const addSet = (exerciseIndex) => {\r\n        setCurrentRoutine(prev => {\r\n            const newExercises = [...prev.exercises];\r\n            newExercises[exerciseIndex].sets.push({\r\n                weight: 0,\r\n                reps: 0,\r\n                completed: false,\r\n                timer: { min: 0, sec: 0 }\r\n            });\r\n            return { ...prev, exercises: newExercises };\r\n        });\r\n    };\r\n\r\n    const removeSet = (exerciseIndex, setIndex) => {\r\n        setCurrentRoutine(prev => {\r\n            const newExercises = [...prev.exercises];\r\n            newExercises[exerciseIndex].sets = newExercises[exerciseIndex].sets.filter((_, i) => i !== setIndex);\r\n            return { ...prev, exercises: newExercises };\r\n        });\r\n    };\r\n\r\n    const handleTimerChange = (exerciseIndex, setIndex, field, value) => {\r\n        setCurrentRoutine(prev => {\r\n            const newExercises = [...prev.exercises];\r\n            if (!newExercises[exerciseIndex].sets[setIndex].timer) {\r\n                newExercises[exerciseIndex].sets[setIndex].timer = { min: 0, sec: 0 };\r\n            }\r\n            newExercises[exerciseIndex].sets[setIndex].timer[field] = value;\r\n            return { ...prev, exercises: newExercises };\r\n        });\r\n    };\r\n\r\n    const startTimer = (exerciseIndex, setIndex) => {\r\n        const key = `${exerciseIndex}_${setIndex}`;\r\n        setTimers(prev => ({\r\n            ...prev,\r\n            [key]: {\r\n                running: true,\r\n                timeLeft: getTimeLeft(exerciseIndex, setIndex)\r\n            }\r\n        }));\r\n        if (timerRefs.current[key]) clearInterval(timerRefs.current[key]);\r\n        timerRefs.current[key] = setInterval(() => {\r\n            setTimers(prev => {\r\n                const t = prev[key]?.timeLeft || 0;\r\n                if (t > 0) {\r\n                    return {\r\n                        ...prev,\r\n                        [key]: { ...prev[key], timeLeft: t - 1 }\r\n                    };\r\n                } else {\r\n                    clearInterval(timerRefs.current[key]);\r\n                    return {\r\n                        ...prev,\r\n                        [key]: { ...prev[key], running: false, timeLeft: 0 }\r\n                    };\r\n                }\r\n            });\r\n        }, 1000);\r\n    };\r\n\r\n    const pauseTimer = (exerciseIndex, setIndex) => {\r\n        const key = `${exerciseIndex}_${setIndex}`;\r\n        setTimers(prev => ({\r\n            ...prev,\r\n            [key]: { ...prev[key], running: false }\r\n        }));\r\n        if (timerRefs.current[key]) clearInterval(timerRefs.current[key]);\r\n    };\r\n\r\n    const getTimeLeft = (exerciseIndex, setIndex) => {\r\n        const set = currentRoutine.exercises[exerciseIndex].sets[setIndex];\r\n        const min = parseInt(set.timer?.min || 0, 10);\r\n        const sec = parseInt(set.timer?.sec || 0, 10);\r\n        return min * 60 + sec;\r\n    };\r\n\r\n    const formatTime = (seconds) => {\r\n        const m = Math.floor(seconds / 60);\r\n        const s = seconds % 60;\r\n        return `${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\r\n    };\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            Object.values(timerRefs.current).forEach(clearInterval);\r\n        };\r\n    }, []);\r\n\r\n    const saveRoutine = async () => {\r\n        if (!currentUser) return;\r\n        setLoading(true);\r\n        try {\r\n            const routineRef = doc(db, 'users', currentUser.uid, 'routines', selectedDay);\r\n            await setDoc(routineRef, {\r\n                ...currentRoutine,\r\n                updatedAt: serverTimestamp()\r\n            });\r\n            alert('Rutina guardada exitosamente');\r\n        } catch (error) {\r\n            console.error('Error al guardar la rutina:', error);\r\n            alert('Error al guardar la rutina');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"w-full px-2 py-4\">\r\n            <div className=\"mb-4\">\r\n                <h2 className=\"text-xl font-bold text-yellow-400 mb-3\">Rutina Diaria</h2>\r\n                {error && (\r\n                    <div className=\"bg-red-500 text-white p-2 rounded mb-2 text-xs\">{error}</div>\r\n                )}\r\n                <button\r\n                    className=\"mb-2 px-4 py-2 bg-yellow-500 text-black rounded text-sm\"\r\n                    onClick={() => setShowAvailable(v => !v)}\r\n                >\r\n                    {showAvailable ? 'Ocultar Rutinas Prediseñadas' : 'Ver Rutinas Prediseñadas'}\r\n                </button>\r\n                {showAvailable && (\r\n                    <div className=\"bg-gray-900 p-2 rounded mb-4\">\r\n                        <h3 className=\"text-white text-base mb-2\">Rutinas Disponibles</h3>\r\n                        {availableRoutines.length === 0 && <p className=\"text-gray-400\">No hay rutinas prediseñadas.</p>}\r\n                        {availableRoutines.map(routine => (\r\n                            <div key={routine.id} className=\"mb-2 p-2 bg-gray-800 rounded\">\r\n                                <div className=\"text-yellow-300 font-bold\">{routine.name}</div>\r\n                                <div className=\"text-white text-sm mb-1\">{routine.description}</div>\r\n                                <button\r\n                                    className=\"bg-yellow-500 text-black px-2 py-1 rounded text-xs\"\r\n                                    onClick={async () => {\r\n                                        // Copiar la rutina prediseñada a la rutina del usuario para el día seleccionado\r\n                                        setCurrentRoutine({ exercises: routine.exercises });\r\n                                        alert('Rutina copiada. Ahora puedes modificarla y guardarla como tuya.');\r\n                                    }}\r\n                                >\r\n                                    Usar esta rutina\r\n                                </button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n                <div className=\"flex flex-wrap gap-1 mb-3\">\r\n                    {DAYS.map(day => (\r\n                        <button\r\n                            key={day}\r\n                            onClick={() => setSelectedDay(day)}\r\n                            className={`px-2 py-1 text-sm rounded ${\r\n                                selectedDay === day \r\n                                    ? 'bg-yellow-500 text-black' \r\n                                    : 'bg-gray-800 text-white'\r\n                            }`}\r\n                        >\r\n                            {day}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"mb-4\">\r\n                <h3 className=\"text-lg text-white mb-2\">Agregar Ejercicio</h3>\r\n                <div className=\"space-y-2\">\r\n                    <select\r\n                        value={selectedCategory}\r\n                        onChange={(e) => setSelectedCategory(e.target.value)}\r\n                        className=\"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 text-sm\"\r\n                    >\r\n                        <option value=\"\">Seleccionar Grupo Muscular</option>\r\n                        {categories.map(cat => (\r\n                            <option key={cat.id} value={cat.id}>\r\n                                {cat.name}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n\r\n                    <select\r\n                        value={selectedExercise}\r\n                        onChange={(e) => setSelectedExercise(e.target.value)}\r\n                        className=\"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 text-sm\"\r\n                        disabled={!selectedCategory}\r\n                    >\r\n                        <option value=\"\">Seleccionar Ejercicio</option>\r\n                        {exercises.map(ex => (\r\n                            <option key={ex.id} value={ex.id}>\r\n                                {ex.name}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n\r\n                    <button\r\n                        onClick={addExercise}\r\n                        disabled={!selectedExercise}\r\n                        className=\"w-full px-3 py-2 bg-yellow-500 text-black rounded text-sm hover:bg-yellow-600 disabled:opacity-50\"\r\n                    >\r\n                        Agregar Ejercicio\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n                {currentRoutine.exercises.map((exercise, exerciseIndex) => {\r\n                    const exerciseData = exercises.find(e => e.id === exercise.exerciseId);\r\n                    return (\r\n                        <div key={exerciseIndex} className=\"bg-gray-800 p-3 rounded\">\r\n                            <h4 className=\"text-base text-white mb-2\">\r\n                                {exerciseData?.name || 'Ejercicio'}\r\n                            </h4>\r\n                            <div className=\"overflow-x-auto\">\r\n                                <table className=\"w-full text-sm text-white\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th className=\"px-2 py-1\">Serie</th>\r\n                                            <th className=\"px-2 py-1\">Peso</th>\r\n                                            <th className=\"px-2 py-1\">Repeticiones</th>\r\n                                            <th className=\"px-2 py-1\">Timer</th>\r\n                                            <th className=\"px-2 py-1\">✔</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {exercise.sets.map((set, setIndex) => {\r\n                                            const key = `${exerciseIndex}_${setIndex}`;\r\n                                            const timerState = timers[key] || { running: false, timeLeft: getTimeLeft(exerciseIndex, setIndex) };\r\n                                            return (\r\n                                                <tr key={setIndex}>\r\n                                                    <td className=\"px-2 py-1\">{setIndex + 1}</td>\r\n                                                    <td className=\"px-2 py-1\">\r\n                                                        <input\r\n                                                            type=\"number\"\r\n                                                            value={set.weight}\r\n                                                            onChange={(e) => updateSet(exerciseIndex, setIndex, 'weight', e.target.value)}\r\n                                                            placeholder=\"Peso (kg)\"\r\n                                                            className=\"w-16 p-1 rounded bg-gray-700 text-white border border-gray-600 text-sm\"\r\n                                                        />\r\n                                                    </td>\r\n                                                    <td className=\"px-2 py-1\">\r\n                                                        <input\r\n                                                            type=\"number\"\r\n                                                            value={set.reps}\r\n                                                            onChange={(e) => updateSet(exerciseIndex, setIndex, 'reps', e.target.value)}\r\n                                                            placeholder=\"Reps\"\r\n                                                            className=\"w-16 p-1 rounded bg-gray-700 text-white border border-gray-600 text-sm\"\r\n                                                        />\r\n                                                    </td>\r\n                                                    <td className=\"px-2 py-1 flex items-center gap-1\">\r\n                                                        <input\r\n                                                            type=\"number\"\r\n                                                            min=\"0\"\r\n                                                            value={set.timer?.min || 0}\r\n                                                            onChange={(e) => handleTimerChange(exerciseIndex, setIndex, 'min', e.target.value)}\r\n                                                            className=\"w-10 p-1 rounded bg-gray-700 text-white border border-gray-600 text-xs mr-1\"\r\n                                                            placeholder=\"mm\"\r\n                                                        />\r\n                                                        :\r\n                                                        <input\r\n                                                            type=\"number\"\r\n                                                            min=\"0\"\r\n                                                            max=\"59\"\r\n                                                            value={set.timer?.sec || 0}\r\n                                                            onChange={(e) => handleTimerChange(exerciseIndex, setIndex, 'sec', e.target.value)}\r\n                                                            className=\"w-10 p-1 rounded bg-gray-700 text-white border border-gray-600 text-xs ml-1\"\r\n                                                            placeholder=\"ss\"\r\n                                                        />\r\n                                                        <button\r\n                                                            type=\"button\"\r\n                                                            onClick={() => timerState.running ? pauseTimer(exerciseIndex, setIndex) : startTimer(exerciseIndex, setIndex)}\r\n                                                            className=\"ml-2 px-2 py-1 bg-yellow-500 text-black rounded text-xs\"\r\n                                                        >\r\n                                                            {timerState.running ? 'Pausar' : 'Iniciar'}\r\n                                                        </button>\r\n                                                        <span className=\"ml-2 font-mono\">{formatTime(timerState.timeLeft)}</span>\r\n                                                    </td>\r\n                                                    <td className=\"px-2 py-1\">\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            checked={set.completed}\r\n                                                            onChange={(e) => updateSet(exerciseIndex, setIndex, 'completed', e.target.checked)}\r\n                                                            className=\"w-4 h-4\"\r\n                                                        />\r\n                                                        <button\r\n                                                            type=\"button\"\r\n                                                            onClick={() => removeSet(exerciseIndex, setIndex)}\r\n                                                            className=\"ml-2 px-2 py-1 bg-red-500 text-white rounded text-xs\"\r\n                                                        >\r\n                                                            Eliminar\r\n                                                        </button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            );\r\n                                        })}\r\n                                    </tbody>\r\n                                </table>\r\n                                <button\r\n                                    onClick={() => addSet(exerciseIndex)}\r\n                                    className=\"text-yellow-400 hover:text-yellow-500 text-sm mt-2\"\r\n                                >\r\n                                    + Agregar Serie\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            <button\r\n                onClick={saveRoutine}\r\n                disabled={loading}\r\n                className=\"mt-4 w-full bg-yellow-500 text-black font-bold py-2 px-4 rounded text-sm hover:bg-yellow-600 disabled:opacity-50\"\r\n            >\r\n                {loading ? 'Guardando...' : 'Guardar Rutina'}\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DailyRoutine; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}